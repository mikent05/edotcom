Ubuntu Setup
°°°°°°°°°°°°



Centos Setup
°°°°°°°°°°°°

Ansible
°°°°°°°

sudo yum update
sudo yum upgrade

sudo yum install ansible tree
ansible --version

sudo iptables -L
sudo setstatus
sudo firewall-cmd --permanent --add-service=http
sudo systemctl reload firewalld
sudo iptables -L | grep http
sudo sshd --permanent --add-service=http
sudo systemctl reload sshd
sudo iptables -L | grep ssh

mkdir -p ansible/{hosts,groups,roles,logs}
cd ansible
mkdir hosts/host_var
mkdir groups/group_var
touch logs/ansible.log
touch hosts/hosts.yml

add the folling in ansible.cfg

[defaults]
; reference: http://docs.ansible.com/intro_configuration.html
ansible_managed               = Ansible managed
ask_pass                      = True
command_warnings              = True
deprecation_warnings          = True
display_skipped_hosts         = True
error_on_undefined_vars       = True
forks                         = 10
gathering                     = implicit
http_user_agent               = ansible-agent
host_key_checking             = False
log_path                      = /home/vagrant/ansible/logs/ansible.log
nocows                        = 1
hosts                         = *
remote_tmp                    = $HOME/.ansible/tmp
roles_path                    = /home/vagrant/ansible/roles
system_warnings               = True
timeout                       = 30
transport                     = ssh
allow_world_readable_tmpfiles = True
; library/Plugins
library                       = ~/.ansible/lib/plugins/modules/:/usr/lib/python2.7/site-packages/modules/
action_plugins                = ~/.ansible/lib/plugins/action/:/usr/lib/python2.7/site-packages/ansible/plugins/action/
callback_plugins              = ~/.ansible/lib/plugins/callback/:/usr/lib/python2.7/site-packages/ansible/plugins/callback/
connection_plugins            = ~/.ansible/lib/plugins/connection/:/usr/lib/python2.7/site-packages/ansible/plugins/connection/
filter_plugins                = ~/.ansible/lib/plugins/filter/:/usr/lib/python2.7/site-packages/ansible/plugins/filter/
lookup_plugins                = ~/.ansible/lib/plugins/lookup/:/usr/lib/python2.7/site-packages/ansible/plugins/lookup/
vars_plugins                  = ~/.ansible/lib/plugins/vars/:/usr/lib/python2.7/site-packages/ansible/plugins/vars

; retry files
retry_files_enabled           = True
retry_files_save_path         = ~/

[inventory]
inventory                     = /home/vagrant/ansible/hosts/hosts.yml
[privilege_escalation]
become                        = False
become_method                 = sudo
become_ask_pass               = False
[paramiko_connection]
[ssh_connection]
pipelining                    = True
[persistent_connection]
[accelerate]
[selinux]
special_context_filesystems   = nfs,vboxsf,fuse,ramfs
[colors]
[diff]

ansible-config view
sudo yum install -y epel-release && sudo yum update && sudo yum install -y python-pip

Gitlab
°°°°°°

sudo yum install -y curl policycoreutils-python openssh-server
sudo yum install postfix
sudo yum install postfix
sudo systemctl enable postfix
sudo systemctl start postfix
curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.rpm.sh | sudo bash
sudo EXTERNAL_URL="http://gitlab" yum install -y gitlab-ee

login to http://localhost/ and create a new account
then you can login to http://gitlab/

ssh-keygen -t rsa -b 4096 -C "<your-full-name>"
